<!DOCTYPE HTML>
<html lang="en">


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-form-product-1.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:31 GMT -->
<head>
    <meta charset="utf-8">
    <title>Evara Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/admin/assets/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link href="/admin/assets/css/main.css" rel="stylesheet" type="text/css" />
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css"
  />
  <style>
    .content-main {
      padding: 2rem 0;
      background-color: #f8f9fa;
    }
  
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }
  
    .content-header {
      margin-bottom: 2rem;
      text-align: center;
    }
  
    .content-title {
      font-size: 2.5rem;
      color: #333;
      margin-bottom: 0.5rem;
    }
  
    .card {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
  
    .card-body {
      padding: 2rem;
    }
  
    .form-section {
      margin-bottom: 2.5rem;
    }
  
    .section-title {
      font-size: 1.5rem;
      color: #444;
      margin-bottom: 1.5rem;
      border-bottom: 2px solid #f0f0f0;
      padding-bottom: 0.5rem;
    }
  
    .form-group {
      margin-bottom: 1.5rem;
    }
  
    .form-row {
      display: flex;
      flex-wrap: wrap;
      margin-right: -15px;
      margin-left: -15px;
    }
  
    .form-row > .form-group {
      padding-right: 15px;
      padding-left: 15px;
      flex: 0 0 100%;
      max-width: 100%;
    }
  
    @media (min-width: 768px) {
      .form-row > .form-group {
        flex: 0 0 50%;
        max-width: 50%;
      }
    }
  
    .form-label {
      font-weight: 600;
      color: #555;
      margin-bottom: 0.5rem;
      display: block;
    }
  
    .form-control,
    .form-select {
      display: block;
      width: 100%;
      padding: 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      color: #495057;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid #ced4da;
      border-radius: 0.25rem;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
  
    .form-control:focus,
    .form-select:focus {
      color: #495057;
      background-color: #fff;
      border-color: #80bdff;
      outline: 0;
      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }
  
    .form-control-file {
      display: block;
      width: 100%;
    }
  
    .color-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
    }
  
    .color-item {
      background-color: #f8f9fa;
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
  
    .color-name {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: #333;
      text-transform: capitalize;
    }
  
    .existing-images {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 1rem;
    }
  
    .image-wrapper {
      position: relative;
      width: 150px;
    }
  
    .product-image {
      width: 100%;
      height: auto;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
  
    .btn {
      display: inline-block;
      font-weight: 400;
      color: #212529;
      text-align: center;
      vertical-align: middle;
      user-select: none;
      background-color: transparent;
      border: 1px solid transparent;
      padding: 0.375rem 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      border-radius: 0.25rem;
      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
  
    .btn-danger {
      color: #fff;
      background-color: #dc3545;
      border-color: #dc3545;
    }
  
    .btn-sm {
      padding: 0.25rem 0.5rem;
      font-size: 0.875rem;
      line-height: 1.5;
      border-radius: 0.2rem;
    }
  
    .form-actions {
      margin-top: 2rem;
      text-align: right;
    }
  
    .btn-primary {
      color: #fff;
      background-color: #007bff;
      border-color: #007bff;
    }
  
    .btn-primary:hover {
      color: #fff;
      background-color: #0056b3;
      border-color: #0056b3;
    }
    
  .color-quantities-container {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 2rem;
    margin-bottom: 2rem;
  }

  .section-title {
    font-size: 1.5rem;
    color: #333;
    margin-bottom: 1.5rem;
    text-align: center;
  }

  .color-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
  }

  .color-item {
    background-color: #ffffff;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease-in-out;
  }

  .color-item:hover {
    transform: translateY(-5px);
  }

  .color-item-red { border-top: 4px solid #ff6b6b; }
  .color-item-black { border-top: 4px solid #343a40; }
  .color-item-green { border-top: 4px solid #51cf66; }
  .color-item-yellow { border-top: 4px solid #fcc419; }

  .color-name {
    font-size: 1.2rem;
    color: #495057;
    margin-bottom: 1rem;
    text-align: center;
  }

  .input-group {
    margin-bottom: 1rem;
  }

  .form-label {
    display: block;
    margin-bottom: 0.5rem;
    color: #495057;
    font-weight: 500;
  }

  .form-control {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #ced4da;
    border-radius: 4px;
    font-size: 1rem;
  }

  .file-input {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #ced4da;
    border-radius: 4px;
    font-size: 0.9rem;
    background-color: #f8f9fa;
  }

  .existing-images {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1rem;
  }

  .image-wrapper {
    position: relative;
    width: 150px;
  }

  .product-image {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 4px;
  }

  .btn-danger {
    position: absolute;
    top: 5px;
    right: 5px;
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    background-color: #dc3545;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .error-message {
    color: #dc3545;
    font-size: 0.9rem;
    margin-top: 1rem;
    text-align: center;
  }

  @media (max-width: 768px) {
    .color-grid {
      grid-template-columns: 1fr;
    }
  }

  </style>
</head>

<body>
    <div class="screen-overlay"></div>
    <aside class="navbar-aside" id="offcanvas_aside">
        <div class="aside-top">
            <a href="index.html" class="brand-wrap">
                <img src="/admin/assets/imgs/theme/logo.svg" class="logo" alt="Evara Dashboard">
            </a>
            <div>
                <button class="btn btn-icon btn-aside-minimize"> <i class="text-muted material-icons md-menu_open"></i> </button>
            </div>
        </div>
        <nav>
            <ul class="menu-aside">
                <li class="menu-item ">
                    <a class="menu-link" href="home"> <i class="icon material-icons md-home"></i>
                        <span class="text">Dashboard</span>
                    </a>
                </li>
                <li class="menu-item active">
                    <a class="menu-link" href="products"> <i class="icon material-icons md-shopping_bag"></i>
                        <span class="text">Products</span>
                    </a>
                    <!-- <div class="submenu">
                        <a href="page-products-list.html" class="active">Product List</a>
                        <a href="page-products-grid.html">Product grid</a>
                        <a href="page-products-grid-2.html">Product grid 2</a>
                        <a href="page-categories.html">Categories</a>
                    </div> -->
                </li>
                <li class="menu-item ">
                    <a class="menu-link" href="order"> <i class="icon material-icons md-shopping_cart"></i>
                        <span class="text">Orders</span>
                    </a>
                    <!-- <div class="submenu">
                        <a href="page-orders-1.html">Order list 1</a>
                        <a href="page-orders-2.html">Order list 2</a>
                        <a href="page-orders-detail.html">Order detail</a>
                    </div> -->
                </li>
                <!-- <li class="menu-item ">
                    <a class="menu-link" href="page-sellers-cards.html"> <i class="icon material-icons md-store"></i>
                        <span class="text">Sellers</span>
                    </a> -->
                    <!-- <div class="submenu">
                        <a href="page-sellers-cards.html">Sellers cards</a>
                        <a href="page-sellers-list.html">Sellers list</a>
                        <a href="page-seller-detail.html">Seller profile</a>
                    </div> -->
                <!-- </li> -->
                <!-- <li class="menu-item has-submenu">
                    <a class="menu-link" href="page-form-product-1.html"> <i class="icon material-icons md-add_box"></i>
                        <span class="text">Add product</span>
                    </a>
                    <div class="submenu">
                        <a href="page-form-product-1.html">Add product 1</a>
                        <a href="page-form-product-2.html">Add product 2</a>
                        <a href="page-form-product-3.html">Add product 3</a>
                        <a href="page-form-product-4.html">Add product 4</a>
                    </div>
                </li> -->
                <!-- <li class="menu-item has-submenu">
                    <a class="menu-link" href="page-transactions-1.html"> <i class="icon material-icons md-monetization_on"></i>
                        <span class="text">Transactions</span>
                    </a>
                    <div class="submenu">
                        <a href="page-transactions-1.html">Transaction 1</a>
                        <a href="page-transactions-2.html">Transaction 2</a>
                    </div>
                </li> -->
                <!-- <li class="menu-item has-submenu">
                    <a class="menu-link" href="#"> <i class="icon material-icons md-person"></i>
                        <span class="text">Account</span>
                    </a>
                    <div class="submenu">
                        <a href="page-account-login.html">User login</a>
                        <a href="page-account-register.html">User registration</a>
                        <a href="page-error-404.html">Error 404</a>
                    </div>
                </li> -->
                <!-- <li class="menu-item">
                    <a class="menu-link" href="page-reviews.html"> <i class="icon material-icons md-comment"></i>
                        <span class="text">Reviews</span>
                    </a>
                </li> -->
                <li class="menu-item">
                    <a class="menu-link" href="brands"> <i class="icon material-icons md-stars"></i>
                        <span class="text">Brands</span> </a>
                </li>
                <li class="menu-item">
                    <a class="menu-link" href="category"> <i class="icon material-icons md-stars"></i>
                        <span class="text">Categories</span> </a>
                </li>
                <li class="menu-item ">
                    <a class="menu-link" href="users"> <i class="icon material-icons md-person"></i>
                        <span class="text">users</span> </a>
                </li>
                <li class="menu-item ">
                    <a class="menu-link" href="coupon"> <i class="icon material-icons md-person"></i>
                        <span class="text">Coupon</span> </a>
                </li>
                <li class="menu-item ">
                    <a class="menu-link " href="offers"> <i class="icon material-icons md-person"></i>
                        <span class="text">Offers</span> </a>
                </li>
                <li class="menu-item ">
                    <a class="menu-link " href="salesreport"> <i class="icon material-icons md-person"></i>
                        <span class="text">Sales Report</span> </a>
                </li>
                <!-- <li class="menu-item">
                    <a class="menu-link" disabled href="#"> <i class="icon material-icons md-pie_chart"></i>
                        <span class="text">Statistics</span>
                    </a>
                </li> -->
            </ul>
            <hr>
            <!-- <ul class="menu-aside">
                <li class="menu-item has-submenu">
                    <a class="menu-link" href="#"> <i class="icon material-icons md-settings"></i>
                        <span class="text">Settings</span>
                    </a>
                    <div class="submenu">
                        <a href="page-settings-1.html">Setting sample 1</a>
                        <a href="page-settings-2.html">Setting sample 2</a>
                    </div>
                </li>
                <li class="menu-item">
                    <a class="menu-link" href="page-blank.html"> <i class="icon material-icons md-local_offer"></i>
                        <span class="text"> Starter page </span>
                    </a>
                </li>
            </ul> -->
            <br>
            <br>
        </nav>
    </aside>
    <main class="main-wrap">
        <header class="main-header navbar">
            <div class="col-search">
                <form class="searchform">
                    <div class="input-group">
                        <input list="search_terms" type="text" class="form-control" placeholder="Search term">
                        <button class="btn btn-light bg" type="button"> <i class="material-icons md-search"></i></button>
                    </div>
                    <datalist id="search_terms">
                        <option value="Products">
                        <option value="New orders">
                        <option value="Apple iphone">
                        <option value="Ahmed Hassan">
                    </datalist>
                </form>
            </div>
            <div class="col-nav">
                <button class="btn btn-icon btn-mobile me-auto" data-trigger="#offcanvas_aside"> <i class="material-icons md-apps"></i> </button>
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link btn-icon" href="#">
                            <i class="material-icons md-notifications animation-shake"></i>
                            <span class="badge rounded-pill">3</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn-icon darkmode" href="#"> <i class="material-icons md-nights_stay"></i> </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="requestfullscreen nav-link btn-icon"><i class="material-icons md-cast"></i></a>
                    </li>
                    <li class="dropdown nav-item">
                        <a class="dropdown-toggle" data-bs-toggle="dropdown" href="#" id="dropdownLanguage" aria-expanded="false"><i class="material-icons md-public"></i></a>
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownLanguage">
                            <a class="dropdown-item text-brand" href="#"><img src="/admin/assets/imgs/theme/flag-us.png" alt="English">English</a>
                            <a class="dropdown-item" href="#"><img src="/admin/assets/imgs/theme/flag-fr.png" alt="Français">Français</a>
                            <a class="dropdown-item" href="#"><img src="/admin/assets/imgs/theme/flag-jp.png" alt="Français">日本語</a>
                            <a class="dropdown-item" href="#"><img src="/admin/assets/imgs/theme/flag-cn.png" alt="Français">中国人</a>
                        </div>
                    </li>
                    <li class="dropdown nav-item">
                        <a class="dropdown-toggle" data-bs-toggle="dropdown" href="#" id="dropdownAccount" aria-expanded="false"> <img class="img-xs rounded-circle" src="/admin/assets/imgs/people/avatar2.jpg" alt="User"></a>
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownAccount">
                            <a class="dropdown-item" href="#"><i class="material-icons md-perm_identity"></i>Edit Profile</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-settings"></i>Account Settings</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-account_balance_wallet"></i>Wallet</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-receipt"></i>Billing</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-help_outline"></i>Help center</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item text-danger" href="#"><i class="material-icons md-exit_to_app"></i>Logout</a>
                        </div>
                    </li>
                </ul>
            </div>
        </header>
        <section class="content-main">
          <div class="row">
              <div class="col-9">
                  <div class="content-header">
                      <h2 class="content-title">Edit Product</h2>
                      <p style="color: red;"><%= error_message %></p>
                      <p style="color: green;"><%= success_message %></p>
                  </div>
              </div>
          
              <div class="col-lg-6">
                  <div class="card mb-4">
                      <div class="card-header">
                          <h4>Basic Product Information</h4>
                      </div>
                      <div class="card-body">
                          <form action="/admin/editproduct/<%= product._id %>"" method="POST" onsubmit="return validateForm()" enctype="multipart/form-data">
          
                              <!-- Product Name -->
                              <div class="mb-4">
                                  <label for="product_name" class="form-label">Product Name</label>
                                  <input type="text" placeholder="Type here" class="form-control" id="product_name" name="productName" value="<%= product.name %>">
                                  <span id="nameError" class="error-message text-danger"></span>
                              </div>
          
                              <!-- Full Description -->
                              <div class="mb-4">
                                  <label class="form-label">Full Description</label>
                                  <textarea placeholder="Type here" class="form-control" rows="4" name="productDescription" id="product_description"><%= product.description %></textarea>
                                  <span id="descriptionError" class="error-message text-danger"></span>
                              </div>
          
                              <!-- Price -->
                              <div class="row mb-4">
                                  <div class="col-md-12">
                                      <label class="form-label">Price</label>
                                      <input type="text" placeholder="Rs" class="form-control" id="product_price" name="price" value="<%= product.price %>">
                                      <span id="priceError" class="error-message text-danger"></span>
                                  </div>
                              </div>
          
                              <!-- Category & Brand -->
                              <div class="row mb-4">
                                <div class="col-md-6">
                                    <label class="form-label">Category</label>
                                    <select class="form-select" name="product_category" id="product_category" required>
                                        <option value="" disabled>Select Category</option>
                                        <% category.forEach(element => { %>
                                            <option value="<%= element._id %>" <%= element._id.equals(product.category._id) ? 'selected' : '' %>> 
                                                <%= element.name %> 
                                            </option>
                                        <% }); %>
                                    </select>
                                    <span id="categoryError" class="error-message text-danger"></span>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Brand</label>
                                    <select class="form-select" name="product_brand" id="product_brand" required>
                                        <option value="" disabled>Select Brand</option>
                                        <% brand.forEach(element => { %>
                                            <option value="<%= element._id %>" <%= element._id.equals(product.brandname._id) ? 'selected' : '' %>> 
                                                <%= element.name %> 
                                            </option>
                                        <% }); %>
                                    </select>
                                    <span id="brandError" class="error-message text-danger"></span>
                                </div>
                            </div>
                            
                            
          
                              <!-- Color Quantities and Image Uploads -->
                              <div class="color-quantities-container">
                                <h2 class="section-title">Color Quantities & Image Uploads</h2>
                                <div class="color-grid">
                                  <% ['red', 'black', 'green', 'yellow'].forEach((color) => { %>
                                    <div class="color-item color-item-<%= color %>">
                                      <h3 class="color-name"><%= color.charAt(0).toUpperCase() + color.slice(1) %></h3>
                                      <div class="input-group">
                                        <label for="<%= color %>_quantity" class="form-label">Quantity</label>
                                        <input type="number" placeholder="Enter quantity" class="form-control" id="<%= color %>_quantity" 
                                               name="<%= color %>Quantity" value="<%= product.colors[color].quantity %>" min="0">
                                      </div>
                                      <div class="input-group">
                                        <label for="<%= color %>_images" class="form-label">Upload Images</label>
                                        <input type="file" id="<%= color %>_images" name="colors[<%= color %>][images][]" 
                                               multiple accept="image/jpeg, image/png, image/webp, image/svg+xml" class="file-input">
                                      </div>
                                      <div class="existing-images">
                                        <% product.colors[color].images.forEach((image, index) => { %>
                                          <div class="image-wrapper">
                                            <img src="/uploads/<%= image %>" alt="<%= color %> product image" class="product-image">
                                            <button type="button" class="btn btn-danger btn-sm" onclick="removeImage('<%= product._id %>', '<%= color %>', '<%= index %>')">Remove</button>
                                            <input type="hidden" name="existingImages[<%= color %>][<%= index %>]" value="<%= image %>">
                                          </div>
                                        <% }) %>
                                      </div>
                                    </div>
                                  <% }); %>
                                </div>
                                <div id="colorQuantityError" class="error-message" aria-live="polite"></div>
                              </div>
          
                              <!-- Size Quantities -->
                              <!-- <div class="mb-4">
                                  <h5>Size Quantities</h5>
                                  <div class="row">
                                      <div class="col-md-4">
                                          <label for="small" class="form-label">Small</label>
                                          <input type="text" placeholder="Type here" class="form-control" id="small" name="small" value="<%#= product.size.s.quantity %>">
                                      </div>
                                      <div class="col-md-4">
                                          <label for="medium" class="form-label">Medium</label>
                                          <input type="text" placeholder="Type here" class="form-control" id="medium" name="medium" value="<%#= product.size.m.quantity %>">
                                      </div>
                                      <div class="col-md-4">
                                          <label for="large" class="form-label">Large</label>
                                          <input type="text" placeholder="Type here" class="form-control" id="large" name="large" value="<%#= product.size.l.quantity %>">
                                      </div>
                                  </div>
                                  <span id="sizeQuantityError" class="error-message text-danger"></span>
                              </div> -->
          
                              <!-- Gender & Frame Color -->
                              <div class="row mb-4">
                                  <div class="col-md-6">
                                      <label class="form-label">Gender</label>
                                      <select class="form-select" name="product_gender">
                                        <option value="<%= product.gender %>"><%= product.gender %></option>
                                        <% if (product.gender !== 'Male') { %>
                                          <option value="Male">Male</option>
                                      <% } %>
                                      <% if (product.gender !== 'Female') { %>
                                          <option value="Female">Female</option>
                                      <% } %>
                                      <% if (product.gender !== 'Unisex') { %>
                                          <option value="Unisex">Unisex</option>
                                      <% } %>
                                      <% if (product.gender !== 'Kids') { %>
                                          <option value="Kids">Kids</option>
                                      <% } %>
                                      </select>
                                      <span id="genderError" class="error-message text-danger"></span>
                                  </div>
                                  <div class="col-md-6">
                                      <label class="form-label">Frame Color</label>
                                      <select class="form-select" name="frame_color">
                                        <option value="<%= product.frameColor %>"><%= product.frameColor %></option>
                                        <% if (product.frameColor !== 'Gold') { %>
                                          <option value="Gold">Gold</option>
                                      <% } %>
                                      <% if (product.frameColor !== 'Silver') { %>
                                          <option value="Silver">Silver</option>
                                      <% } %>
                                      <% if (product.frameColor !== 'Black') { %>
                                          <option value="Black">Black</option>
                                      <% } %>
                                      <% if (product.frameColor !== 'Glass') { %>
                                          <option value="Glass">Glass</option>
                                      <% } %>
                                      <% if (product.frameColor !== 'Brown') { %>
                                          <option value="Brown">Brown</option>
                                      <% } %>
                                      </select>
                                      <span id="frameColorError" class="error-message text-danger"></span>
                                  </div>
                              </div>
          
                              <!-- Material & Frame Style -->
                              <div class="row mb-4">
                                  <div class="col-md-6">
                                      <label class="form-label">Material</label>
                                      <select class="form-select" name="material">
                                        <option value="<%= product.material %>"><%= product.material %></option>
                                        <% if (product.material !== 'Plastic') { %>
                                          <option value="Plastic">Plastic</option>
                                      <% } %>
                                      <% if (product.material !== 'Metal') { %>
                                          <option value="Metal">Metal</option>
                                      <% } %>
                                      <% if (product.material !== 'Mixed') { %>
                                          <option value="Mixed">Mixed</option>
                                      <% } %>
                                      </select>
                                      <span id="materialError" class="error-message text-danger"></span>
                                  </div>
                                  <div class="col-md-6">
                                      <label class="form-label">Frame Style</label>
                                      <select class="form-select" name="frame_style">
                                        <option value="<%= product.frameStyle %>"><%= product.frameStyle %></option>
                                        <% if (product.frameStyle !== 'Rectangle') { %>
                                          <option value="Rectangle">Rectangle</option>
                                      <% } %>
                                      <% if (product.frameStyle !== 'Square') { %>
                                          <option value="Square">Square</option>
                                      <% } %>
                                      <% if (product.frameStyle !== 'Round') { %>
                                          <option value="Round">Round</option>
                                      <% } %>
                                      <% if (product.frameStyle !== 'Aviator') { %>
                                          <option value="Aviator">Aviator</option>
                                      <% } %>
                                      <% if (product.frameStyle !== 'Oval') { %>
                                          <option value="Oval">Oval</option>
                                      <% } %>
                                      </select>
                                      <span id="frameStyleError" class="error-message text-danger"></span>
                                  </div>
                              </div>
          
                              <!-- Submit Button -->
                              <button class="btn btn-md rounded font-sm hover-up">ADD</button>
                          </form>
                      </div>
                  </div>
              </div>
          </div>
      </section>-- dont do any  js just make the dsign rally god with rally good alyout ad stufff so make it good
          

         <!-- content-main end// -->
        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <script>
                    document.write(new Date().getFullYear())
                    </script> ©, Evara - HTML Ecommerce Template .
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end">
                        All rights reserved
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <style>
        .error-message{
            color: red;
        }
    </style>
    <script src="/admin/assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="/admin/assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="/admin/assets/js/vendors/select2.min.js"></script>
    <script src="/admin/assets/js/vendors/perfect-scrollbar.js"></script>
    <script src="/admin/assets/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="/admin/assets/js/main.js" type="text/javascript"></script>
    <script>
        function removeImage(productId, color, index) {
    fetch('/admin/deleteimage', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ productId, color, index }),
    })
    .then(response => response.json())
    .then(data => {
        if (data.message === 'Image removed successfully') {
            // Find the specific image wrapper using the color and index
            const imageWrapper = document.querySelectorAll('.image-wrapper')[index];
            if (imageWrapper) {
                imageWrapper.remove(); // Remove the image wrapper from the DOM
            }
        } else {
            console.error('Error:', data.message);
        }
    })
    .catch(error => console.error('Error:', error));
}

    </script>
    
    <!-- <script>  
        let currentColor = '';

            function handleFiles(event, color) {
                currentColor = color;
                const files = event.target.files;
                if (files && files.length > 0) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        document.getElementById('croppingImage').src = e.target.result;
                        document.getElementById('cropModal').style.display = 'block';
                    };
                    reader.readAsDataURL(files[0]); // Show the first image for cropping
                }
            }

            // function cropImage() {
            //     const croppedData = // your cropping logic here (you can use a library like Cropper.js);
            //     document.getElementById('cropModal').style.display = 'none';

            //     // You would then attach this croppedData to the corresponding color field
            //     // e.g., for red: document.getElementById('red_images').value = croppedData;
            // }
                        
      </script> -->
      <script>
        function validateForm() {
            let isValid = true;
            let name = document.getElementById("product_name").value;
            let description = document.getElementById("product_description").value;
            let price = document.getElementById("product_price").value;
            let redQty = document.getElementById("red_quantity").value;
            let blackQty = document.getElementById("black_quantity").value;
            let greenQty = document.getElementById("green_quantity").value;
            let yellowQty = document.getElementById("yellow_quantity").value;
            // let small = document.getElementById("small").value;
            // let medium = document.getElementById("medium").value;
            // let large = document.getElementById("large").value;
    
            // Product Name validation
            if (!name) {
                document.getElementById("nameError").innerText = "Product name is required.";
                isValid = false;
            } else {
                document.getElementById("nameError").innerText = "";
            }
    
            // Description validation
            if (!description) {
                document.getElementById("descriptionError").innerText = "Product description is required.";
                isValid = false;
            } else {
                document.getElementById("descriptionError").innerText = "";
            }
    
            // Price validation
            if (!price || isNaN(price) || Number(price) <= 0) {
                document.getElementById("priceError").innerText = "Price must be a positive number.";
                isValid = false;
            } else {
                document.getElementById("priceError").innerText = "";
            }
    
            // Color Quantity validation
            let colorQuantities = [redQty, blackQty, greenQty, yellowQty];
            let colorValid = colorQuantities.some(qty => qty && Number(qty) >= 0);
            let colorNegative = colorQuantities.some(qty => qty && Number(qty) < 0);
            
            if (!colorValid) {
                document.getElementById("colorQuantityError").innerText = "At least one color quantity is required and must be a non-negative number.";
                isValid = false;
            } else if (colorNegative) {
                document.getElementById("colorQuantityError").innerText = "Color quantities must be non-negative.";
                isValid = false;
            } else {
                document.getElementById("colorQuantityError").innerText = "";
            }
    
            // // Size Quantity validation
            // let sizeQuantities = [small, medium, large];
            // let sizeValid = sizeQuantities.some(qty => qty && Number(qty) >= 0);
            // let sizeNegative = sizeQuantities.some(qty => qty && Number(qty) < 0);
    
            // if (!sizeValid) {
            //     document.getElementById("sizeQuantityError").innerText = "At least one size quantity is required and must be a non-negative number.";
            //     isValid = false;
            // } else if (sizeNegative) {
            //     document.getElementById("sizeQuantityError").innerText = "Size quantities must be non-negative.";
            //     isValid = false;
            // } else {
            //     document.getElementById("sizeQuantityError").innerText = "";
            // }
    
            return isValid;
        }
    </script>
    
    

      <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    
    <script>
        let cropper;
        let currentFile;
        let currentImgElement;
        let filesArray = []; // To keep track of all selected files
        let croppedFileIndex; // To track the index of the cropped file
    
        function handleFiles(event) {
            const imagePreviewContainer = document.getElementById("imagePreview");
            imagePreviewContainer.innerHTML = "";
    
            const files = event.target.files;
            filesArray = Array.from(files); // Store the selected files in an array
    
            if (files) {
                Array.from(files).forEach((file, index) => {
                    const reader = new FileReader();
    
                    reader.onload = (e) => {
                        currentFile = file;
                        const img = document.createElement("img");
                        img.src = e.target.result;
                        img.style.width = "100px";
                        img.style.marginRight = "10px";
                        img.style.cursor = "pointer";
                        img.onclick = () => openCropper(e.target.result, img, index); // Pass index to identify file in array
                        imagePreviewContainer.appendChild(img);
                    };
    
                    reader.readAsDataURL(file);
                });
            }
        }
    
        function openCropper(imageSrc, imgElement, index) {
            const cropModal = document.getElementById("cropModal");
            const croppingImage = document.getElementById("croppingImage");
    
            currentImgElement = imgElement;
            croppedFileIndex = index; // Store index of file being cropped
    
            croppingImage.src = imageSrc;
            cropModal.style.display = "block";
    
            if (cropper) {
                cropper.destroy();
            }
    
            cropper = new Cropper(croppingImage, {
                aspectRatio: 1,
                viewMode: 2,
            });
        }
    
        function cropImage() {
            const canvas = cropper.getCroppedCanvas();
    
            canvas.toBlob((blob) => {
                const croppedFile = new File([blob], currentFile.name, { type: 'image/png' });
    
                filesArray[croppedFileIndex] = croppedFile; // Replace the original file with the cropped one
    
                // Now, reassign all files (including cropped) to the input field
                const dataTransfer = new DataTransfer();
                
                filesArray.forEach((file) => {
                    dataTransfer.items.add(file); // Add all files (cropped and uncropped)
                });
    
                const fileInput = document.getElementById('images');
                fileInput.files = dataTransfer.files; // Update the file input with all files
    
                // Update the preview with cropped image
                currentImgElement.src = URL.createObjectURL(croppedFile);
    
                // Close the crop modal
                document.getElementById("cropModal").style.display = "none";
    
                // Destroy the cropper to clean up
                cropper.destroy();
                cropper = null;
            }, 'image/png');
        }
    </script>
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-form-product-1.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:32 GMT -->
</html>